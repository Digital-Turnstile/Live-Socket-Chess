{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/caesar/Projects/Workout-SaaS/Client/src/Contexts/AuthContext.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport useLocalStorageState from 'use-local-storage-state';\nimport AuthService from '../Services/AuthService';\nvar AuthContext = /*#__PURE__*/React.createContext();\nexport var AuthProvider = function AuthProvider(props) {\n  _s();\n\n  var _useLocalStorageState = useLocalStorageState('access_token', ''),\n      _useLocalStorageState2 = _slicedToArray(_useLocalStorageState, 2),\n      token = _useLocalStorageState2[0],\n      setToken = _useLocalStorageState2[1];\n\n  var _useLocalStorageState3 = useLocalStorageState('user', {\n    username: '',\n    plan: '',\n    token: ''\n  }),\n      _useLocalStorageState4 = _slicedToArray(_useLocalStorageState3, 2),\n      user = _useLocalStorageState4[0],\n      setUser = _useLocalStorageState4[1];\n\n  var _useState = useState(false),\n      isAuthenticated = _useState[0],\n      setIsAuthenticated = _useState[1];\n\n  var _useState2 = useState(false),\n      isLoaded = _useState2[0],\n      setIsLoaded = _useState2[1];\n\n  useEffect(function () {\n    AuthService.authenticate({\n      username: user.username,\n      plan: user.plan,\n      token: user.token\n    }).then(function (data) {\n      return console.log(data);\n    });\n  }, []);\n\n  var login = function login(data) {\n    setUser(data);\n  };\n\n  var logout = function logout() {\n    setToken('');\n  };\n\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user: user,\n      login: login,\n      logout: logout\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(AuthProvider, \"c5RIFFLkt2qOow3T9j2vOR0INdY=\", false, function () {\n  return [useLocalStorageState, useLocalStorageState];\n});\n\n_c = AuthProvider;\nexport default AuthContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"sources":["/home/caesar/Projects/Workout-SaaS/Client/src/Contexts/AuthContext.jsx"],"names":["React","useState","useEffect","useLocalStorageState","AuthService","AuthContext","createContext","AuthProvider","props","token","setToken","username","plan","user","setUser","isAuthenticated","setIsAuthenticated","isLoaded","setIsLoaded","authenticate","then","data","console","log","login","logout","children"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,oBAAP,MAAiC,yBAAjC;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AAEA,IAAMC,WAAW,gBAAGL,KAAK,CAACM,aAAN,EAApB;AAEA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,KAAK,EAAI;AAAA;;AAAA,8BACPL,oBAAoB,CAAC,cAAD,EAAiB,EAAjB,CADb;AAAA;AAAA,MAC1BM,KAD0B;AAAA,MACnBC,QADmB;;AAAA,+BAETP,oBAAoB,CAAC,MAAD,EAAS;AAACQ,IAAAA,QAAQ,EAAE,EAAX;AAAeC,IAAAA,IAAI,EAAE,EAArB;AAAyBH,IAAAA,KAAK,EAAE;AAAhC,GAAT,CAFX;AAAA;AAAA,MAE1BI,IAF0B;AAAA,MAEpBC,OAFoB;;AAAA,kBAGab,QAAQ,CAAC,KAAD,CAHrB;AAAA,MAG1Bc,eAH0B;AAAA,MAGTC,kBAHS;;AAAA,mBAIDf,QAAQ,CAAC,KAAD,CAJP;AAAA,MAI1BgB,QAJ0B;AAAA,MAIhBC,WAJgB;;AAMjChB,EAAAA,SAAS,CAAC,YAAI;AACVE,IAAAA,WAAW,CAACe,YAAZ,CAAyB;AAACR,MAAAA,QAAQ,EAAEE,IAAI,CAACF,QAAhB;AAA0BC,MAAAA,IAAI,EAAEC,IAAI,CAACD,IAArC;AAA2CH,MAAAA,KAAK,EAAEI,IAAI,CAACJ;AAAvD,KAAzB,EAAwFW,IAAxF,CAA6F,UAAAC,IAAI;AAAA,aAAIC,OAAO,CAACC,GAAR,CAAYF,IAAZ,CAAJ;AAAA,KAAjG;AACH,GAFQ,EAEP,EAFO,CAAT;;AAIA,MAAMG,KAAK,GAAG,SAARA,KAAQ,CAAAH,IAAI,EAAI;AAClBP,IAAAA,OAAO,CAACO,IAAD,CAAP;AACH,GAFD;;AAIA,MAAMI,MAAM,GAAG,SAATA,MAAS,GAAM;AACjBf,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACH,GAFD;;AAIA,sBACI,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AACzBG,MAAAA,IAAI,EAAJA,IADyB;AACnBW,MAAAA,KAAK,EAALA,KADmB;AACZC,MAAAA,MAAM,EAANA;AADY,KAA7B;AAAA,cAGKjB,KAAK,CAACkB;AAHX;AAAA;AAAA;AAAA;AAAA,WADJ;AAOH,CAzBM;;GAAMnB,Y;UACiBJ,oB,EACFA,oB;;;KAFfI,Y;AA2Bb,eAAeF,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport useLocalStorageState from 'use-local-storage-state'\nimport AuthService from '../Services/AuthService'\n\nconst AuthContext = React.createContext();\n\nexport const AuthProvider = props => {\n    const [token, setToken] = useLocalStorageState('access_token', '')\n    const [user, setUser] = useLocalStorageState('user', {username: '', plan: '', token: ''});\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\n    const [isLoaded, setIsLoaded] = useState(false);\n\n    useEffect(()=>{\n        AuthService.authenticate({username: user.username, plan: user.plan, token: user.token}).then(data => console.log(data))\n    },[]);\n\n    const login = data => {\n        setUser(data)\n    }\n\n    const logout = () => {\n        setToken('')\n    }\n\n    return(\n        <AuthContext.Provider value={{\n            user, login, logout\n        }}>\n            {props.children}\n        </AuthContext.Provider>\n    )\n}\n\nexport default AuthContext;"]},"metadata":{},"sourceType":"module"}